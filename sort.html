<body>
	<ul id="things">
		<li data-id="1">order</li>
		<li data-id="23">save</li>
		<li data-id="3">restore</li>
	</ul>
</body>
<script src="https://raw.githack.com/SortableJS/Sortable/master/Sortable.js"></script>
<script>
	var things = document.getElementById('things');
	var sortable = Sortable.create(things, {
		group: "localStorage-example",
		store: {
			/**
			 * Get the order of elements. Called once during initialization.
			 * @param   {Sortable}  sortable
			 * @returns {Array}
			 */
			get: function (sortable) {
				var order = localStorage.getItem(sortable.options.group.name);

				return order ? order.split('|') : [];
			},

			/**
			 * Save the order of elements. Called onEnd (when the item is dropped).
			 * @param {Sortable}  sortable
			 */
			set: function (sortable) {
				var order = sortable.toArray();
				localStorage.setItem(sortable.options.group.name, order.join('|'));
			}
		},
		onUpdate: function (event) {
			var itemEl = event.item;
			//修改items数据顺序
			var newIndex = event.newIndex,oldIndex = event.oldIndex;

			console.log(localStorage.getItem(sortable.options.group.name));
		}
	})
</script>
